/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * MIT Licensed
 *//**
 * Module exports.
 * @public
 */function parse(e,t){var n={},r=t||{},i=e.split(/; */),s=r.decode||decode;i.forEach(function(e){var t=e.indexOf("=");if(t<0)return;var r=e.substr(0,t).trim(),i=e.substr(++t,e.length).trim();'"'==i[0]&&(i=i.slice(1,-1));undefined==n[r]&&(n[r]=tryDecode(i,s))});return n}function serialize(e,t,n){var r=n||{},i=r.encode||encode,s=[e+"="+i(t)];if(null!=r.maxAge){var o=r.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");s.push("Max-Age="+o)}r.domain&&s.push("Domain="+r.domain);r.path&&s.push("Path="+r.path);r.expires&&s.push("Expires="+r.expires.toUTCString());r.httpOnly&&s.push("HttpOnly");r.secure&&s.push("Secure");return s.join("; ")}function tryDecode(e,t){try{return t(e)}catch(n){return e}}exports.parse=parse;exports.serialize=serialize;var decode=decodeURIComponent,encode=encodeURIComponent;